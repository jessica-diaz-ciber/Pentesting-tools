#!/usr/bin/bash
import socket, sys
from threading import Thread
from time import time
host = input("Dame una IP "); start = time()
def scan(min_, max_):
    for port in range(min_, max_):
        print(port)
        conn = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        conn.settimeout(0.1)
        respuesta = conn.connect_ex((host,port))
        if (respuesta == 0):
            print(f"   Puerto abierto: {port}")
        conn.close()    

min_ = 0; max_ = 100; threadlist = []
for i in range(10):
    threadlist.append(Thread(target=scan(max_,min_)))
    min_ += 100; max_ += 100
    
for t in threadlist:
  t.start(); t.join()

end = time(); print("TIEMPO DE EJECUCION: " + str(round(end - start)) + "s")
